{"ast":null,"code":"import e, { PureComponent as t } from \"react\";\n\nvar n = function (e, t) {\n  return n = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (e, t) {\n    e.__proto__ = t;\n  } || function (e, t) {\n    for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n  }, n(e, t);\n};\n\nvar i = function () {\n  return i = Object.assign || function (e) {\n    for (var t, n = 1, i = arguments.length; n < i; n++) for (var r in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n\n    return e;\n  }, i.apply(this, arguments);\n};\n\nfunction r(e, t, n, i) {\n  return new (n || (n = Promise))(function (r, a) {\n    function o(e) {\n      try {\n        s(i.next(e));\n      } catch (e) {\n        a(e);\n      }\n    }\n\n    function l(e) {\n      try {\n        s(i.throw(e));\n      } catch (e) {\n        a(e);\n      }\n    }\n\n    function s(e) {\n      var t;\n      e.done ? r(e.value) : (t = e.value, t instanceof n ? t : new n(function (e) {\n        e(t);\n      })).then(o, l);\n    }\n\n    s((i = i.apply(e, t || [])).next());\n  });\n}\n\nfunction a(e, t) {\n  var n,\n      i,\n      r,\n      a,\n      o = {\n    label: 0,\n    sent: function () {\n      if (1 & r[0]) throw r[1];\n      return r[1];\n    },\n    trys: [],\n    ops: []\n  };\n  return a = {\n    next: l(0),\n    throw: l(1),\n    return: l(2)\n  }, \"function\" == typeof Symbol && (a[Symbol.iterator] = function () {\n    return this;\n  }), a;\n\n  function l(a) {\n    return function (l) {\n      return function (a) {\n        if (n) throw new TypeError(\"Generator is already executing.\");\n\n        for (; o;) try {\n          if (n = 1, i && (r = 2 & a[0] ? i.return : a[0] ? i.throw || ((r = i.return) && r.call(i), 0) : i.next) && !(r = r.call(i, a[1])).done) return r;\n\n          switch (i = 0, r && (a = [2 & a[0], r.value]), a[0]) {\n            case 0:\n            case 1:\n              r = a;\n              break;\n\n            case 4:\n              return o.label++, {\n                value: a[1],\n                done: !1\n              };\n\n            case 5:\n              o.label++, i = a[1], a = [0];\n              continue;\n\n            case 7:\n              a = o.ops.pop(), o.trys.pop();\n              continue;\n\n            default:\n              if (!(r = o.trys, (r = r.length > 0 && r[r.length - 1]) || 6 !== a[0] && 2 !== a[0])) {\n                o = 0;\n                continue;\n              }\n\n              if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {\n                o.label = a[1];\n                break;\n              }\n\n              if (6 === a[0] && o.label < r[1]) {\n                o.label = r[1], r = a;\n                break;\n              }\n\n              if (r && o.label < r[2]) {\n                o.label = r[2], o.ops.push(a);\n                break;\n              }\n\n              r[2] && o.ops.pop(), o.trys.pop();\n              continue;\n          }\n\n          a = t.call(e, o);\n        } catch (e) {\n          a = [6, e], i = 0;\n        } finally {\n          n = r = 0;\n        }\n\n        if (5 & a[0]) throw a[1];\n        return {\n          value: a[0] ? a[1] : void 0,\n          done: !0\n        };\n      }([a, l]);\n    };\n  }\n}\n\nfunction o(e, t, n, i) {\n  e.style.transition = \"\".concat(t, \" \").concat(n, \"ms \").concat(i);\n}\n\nfunction l(e, t, n) {\n  return Math.min(Math.max(e, t), n);\n}\n\nvar s = function (e, t) {\n  var n = this;\n  this.glareAngle = 0, this.glareOpacity = 0, this.calculateGlareSize = function (e) {\n    var t = e.height,\n        n = Math.sqrt(Math.pow(e.width, 2) + Math.pow(t, 2));\n    return {\n      width: n,\n      height: n\n    };\n  }, this.setSize = function (e) {\n    var t = n.calculateGlareSize(e);\n    n.glareEl.style.width = \"\".concat(t.width, \"px\"), n.glareEl.style.height = \"\".concat(t.height, \"px\");\n  }, this.update = function (e, t, i, r) {\n    n.updateAngle(e, t.glareReverse), n.updateOpacity(e, t, i, r);\n  }, this.updateAngle = function (e, t) {\n    var i = e.xPercentage,\n        r = 180 / Math.PI,\n        a = i ? Math.atan2(e.yPercentage, -i) * r : 0;\n    n.glareAngle = a - (t ? 180 : 0);\n  }, this.updateOpacity = function (e, t, i, r) {\n    var a,\n        o = e.xPercentage,\n        s = e.yPercentage,\n        p = t.glareMaxOpacity,\n        c = i ? -1 : 1,\n        u = r ? -1 : 1,\n        g = t.glareReverse ? -1 : 1;\n\n    switch (t.glarePosition) {\n      case \"top\":\n        a = -o * c * g;\n        break;\n\n      case \"right\":\n        a = s * u * g;\n        break;\n\n      case \"bottom\":\n      default:\n        a = o * c * g;\n        break;\n\n      case \"left\":\n        a = -s * u * g;\n        break;\n\n      case \"all\":\n        a = Math.hypot(o, s);\n    }\n\n    var h = l(a, 0, 100);\n    n.glareOpacity = h * p / 100;\n  }, this.render = function (e) {\n    var t = e.glareColor;\n    n.glareEl.style.transform = \"rotate(\".concat(n.glareAngle, \"deg) translate(-50%, -50%)\"), n.glareEl.style.opacity = n.glareOpacity.toString(), n.glareEl.style.background = \"linear-gradient(0deg, rgba(255,255,255,0) 0%, \".concat(t, \" 100%)\");\n  }, this.glareWrapperEl = document.createElement(\"div\"), this.glareEl = document.createElement(\"div\"), this.glareWrapperEl.appendChild(this.glareEl), this.glareWrapperEl.className = \"glare-wrapper\", this.glareEl.className = \"glare\";\n  var i = {\n    position: \"absolute\",\n    top: \"0\",\n    left: \"0\",\n    width: \"100%\",\n    height: \"100%\",\n    overflow: \"hidden\",\n    borderRadius: t,\n    WebkitMaskImage: \"-webkit-radial-gradient(white, black)\"\n  },\n      r = this.calculateGlareSize(e),\n      a = {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transformOrigin: \"0% 0%\",\n    pointerEvents: \"none\",\n    width: \"\".concat(r.width, \"px\"),\n    height: \"\".concat(r.height, \"px\")\n  };\n  Object.assign(this.glareWrapperEl.style, i), Object.assign(this.glareEl.style, a);\n},\n    p = function () {\n  var e = this;\n  this.glareAngle = 0, this.glareOpacity = 0, this.tiltAngleX = 0, this.tiltAngleY = 0, this.tiltAngleXPercentage = 0, this.tiltAngleYPercentage = 0, this.update = function (t, n) {\n    e.updateTilt(t, n), e.updateTiltManualInput(t, n), e.updateTiltReverse(n), e.updateTiltLimits(n);\n  }, this.updateTilt = function (t, n) {\n    var i = t.yPercentage,\n        r = n.tiltMaxAngleY;\n    e.tiltAngleX = t.xPercentage * n.tiltMaxAngleX / 100, e.tiltAngleY = i * r / 100 * -1;\n  }, this.updateTiltManualInput = function (t, n) {\n    var i = n.tiltAngleXManual,\n        r = n.tiltAngleYManual,\n        a = n.tiltMaxAngleX,\n        o = n.tiltMaxAngleY;\n    (null !== i || null !== r) && (e.tiltAngleX = null !== i ? i : 0, e.tiltAngleY = null !== r ? r : 0, t.xPercentage = 100 * e.tiltAngleX / a, t.yPercentage = 100 * e.tiltAngleY / o);\n  }, this.updateTiltReverse = function (t) {\n    var n = t.tiltReverse ? -1 : 1;\n    e.tiltAngleX = n * e.tiltAngleX, e.tiltAngleY = n * e.tiltAngleY;\n  }, this.updateTiltLimits = function (t) {\n    var n = t.tiltAxis;\n    e.tiltAngleX = l(e.tiltAngleX, -90, 90), e.tiltAngleY = l(e.tiltAngleY, -90, 90), n && (e.tiltAngleX = \"x\" === n ? e.tiltAngleX : 0, e.tiltAngleY = \"y\" === n ? e.tiltAngleY : 0);\n  }, this.updateTiltAnglesPercentage = function (t) {\n    var n = t.tiltMaxAngleY;\n    e.tiltAngleXPercentage = e.tiltAngleX / t.tiltMaxAngleX * 100, e.tiltAngleYPercentage = e.tiltAngleY / n * 100;\n  }, this.render = function (t) {\n    t.style.transform += \"rotateX(\".concat(e.tiltAngleX, \"deg) rotateY(\").concat(e.tiltAngleY, \"deg) \");\n  };\n},\n    c = i(i({\n  scale: 1,\n  perspective: 1e3,\n  flipVertically: !1,\n  flipHorizontally: !1,\n  reset: !0,\n  transitionEasing: \"cubic-bezier(.03,.98,.52,.99)\",\n  transitionSpeed: 400,\n  trackOnWindow: !1,\n  gyroscope: !1\n}, {\n  tiltEnable: !0,\n  tiltReverse: !1,\n  tiltAngleXInitial: 0,\n  tiltAngleYInitial: 0,\n  tiltMaxAngleX: 20,\n  tiltMaxAngleY: 20,\n  tiltAxis: null,\n  tiltAngleXManual: null,\n  tiltAngleYManual: null\n}), {\n  glareEnable: !1,\n  glareMaxOpacity: .7,\n  glareColor: \"#ffffff\",\n  glarePosition: \"bottom\",\n  glareReverse: !1,\n  glareBorderRadius: \"0\"\n}),\n    u = function (t) {\n  function i() {\n    var e = null !== t && t.apply(this, arguments) || this;\n    return e.wrapperEl = {\n      node: null,\n      size: {\n        width: 0,\n        height: 0,\n        left: 0,\n        top: 0\n      },\n      clientPosition: {\n        x: null,\n        y: null,\n        xPercentage: 0,\n        yPercentage: 0\n      },\n      updateAnimationId: null,\n      scale: 1\n    }, e.tilt = null, e.glare = null, e.addDeviceOrientationEventListener = function () {\n      return r(e, void 0, void 0, function () {\n        var e;\n        return a(this, function (t) {\n          switch (t.label) {\n            case 0:\n              if (!window.DeviceOrientationEvent && \"development\" === process.env.NODE_ENV) return console.warn(\"Browser doesn't support Device Orientation.\"), [2];\n              if (!(\"function\" == typeof DeviceOrientationEvent.requestPermission)) return [3, 4];\n              t.label = 1;\n\n            case 1:\n              return t.trys.push([1, 3,, 4]), [4, DeviceOrientationEvent.requestPermission()];\n\n            case 2:\n              return \"granted\" === t.sent() && window.addEventListener(\"deviceorientation\", this.onMove), [2];\n\n            case 3:\n              return e = t.sent(), console.error(e), [2];\n\n            case 4:\n              return window.addEventListener(\"deviceorientation\", this.onMove), [2];\n          }\n        });\n      });\n    }, e.setSize = function () {\n      e.setWrapperElSize(), e.glare && e.glare.setSize(e.wrapperEl.size);\n    }, e.mainLoop = function (t) {\n      null !== e.wrapperEl.updateAnimationId && cancelAnimationFrame(e.wrapperEl.updateAnimationId), e.processInput(t), e.update(t.type), e.wrapperEl.updateAnimationId = requestAnimationFrame(e.renderFrame);\n    }, e.onEnter = function (t) {\n      var n = e.props.onEnter;\n      e.setSize(), e.wrapperEl.node.style.willChange = \"transform\", e.setTransitions(), n && n(t.type);\n    }, e.onMove = function (t) {\n      e.mainLoop(t), e.emitOnMove(t);\n    }, e.onLeave = function (t) {\n      var n = e.props.onLeave;\n\n      if (e.setTransitions(), n && n(t.type), e.props.reset) {\n        var i = new CustomEvent(\"autoreset\");\n        e.onMove(i);\n      }\n    }, e.processInput = function (t) {\n      var n = e.props.scale;\n\n      switch (t.type) {\n        case \"mousemove\":\n          e.wrapperEl.clientPosition.x = t.pageX, e.wrapperEl.clientPosition.y = t.pageY, e.wrapperEl.scale = n;\n          break;\n\n        case \"touchmove\":\n          e.wrapperEl.clientPosition.x = t.touches[0].pageX, e.wrapperEl.clientPosition.y = t.touches[0].pageY, e.wrapperEl.scale = n;\n          break;\n\n        case \"deviceorientation\":\n          e.processInputDeviceOrientation(t), e.wrapperEl.scale = n;\n          break;\n\n        case \"autoreset\":\n          var i = e.props,\n              r = i.tiltAngleYInitial / i.tiltMaxAngleY * 100;\n          e.wrapperEl.clientPosition.xPercentage = l(i.tiltAngleXInitial / i.tiltMaxAngleX * 100, -100, 100), e.wrapperEl.clientPosition.yPercentage = l(r, -100, 100), e.wrapperEl.scale = 1;\n      }\n    }, e.processInputDeviceOrientation = function (t) {\n      if (t.gamma && t.beta && e.props.gyroscope) {\n        var n = e.props,\n            i = n.tiltMaxAngleY,\n            r = t.gamma;\n        e.wrapperEl.clientPosition.xPercentage = t.beta / n.tiltMaxAngleX * 100, e.wrapperEl.clientPosition.yPercentage = r / i * 100, e.wrapperEl.clientPosition.xPercentage = l(e.wrapperEl.clientPosition.xPercentage, -100, 100), e.wrapperEl.clientPosition.yPercentage = l(e.wrapperEl.clientPosition.yPercentage, -100, 100);\n      }\n    }, e.update = function (t) {\n      var n = e.props,\n          i = n.tiltEnable,\n          r = n.flipVertically,\n          a = n.flipHorizontally;\n      \"autoreset\" !== t && \"deviceorientation\" !== t && \"propChanged\" !== t && e.updateClientInput(), i && e.tilt.update(e.wrapperEl.clientPosition, e.props), e.updateFlip(), e.tilt.updateTiltAnglesPercentage(e.props), e.glare && e.glare.update(e.wrapperEl.clientPosition, e.props, r, a);\n    }, e.updateClientInput = function () {\n      var t, n;\n\n      if (e.props.trackOnWindow) {\n        var i = e.wrapperEl.clientPosition,\n            r = i.x;\n        t = i.y / window.innerHeight * 200 - 100, n = r / window.innerWidth * 200 - 100;\n      } else {\n        var a = e.wrapperEl,\n            o = a.size,\n            s = a.clientPosition;\n        t = (s.y - o.top) / o.height * 200 - 100, n = ((r = s.x) - o.left) / o.width * 200 - 100;\n      }\n\n      e.wrapperEl.clientPosition.xPercentage = l(t, -100, 100), e.wrapperEl.clientPosition.yPercentage = l(n, -100, 100);\n    }, e.updateFlip = function () {\n      var t = e.props,\n          n = t.flipHorizontally;\n      t.flipVertically && (e.tilt.tiltAngleX += 180, e.tilt.tiltAngleY *= -1), n && (e.tilt.tiltAngleY += 180);\n    }, e.renderFrame = function () {\n      e.resetWrapperElTransform(), e.renderPerspective(), e.tilt.render(e.wrapperEl.node), e.renderScale(), e.glare && e.glare.render(e.props);\n    }, e;\n  }\n\n  return function (e, t) {\n    if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n    function i() {\n      this.constructor = e;\n    }\n\n    n(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n  }(i, t), i.prototype.componentDidMount = function () {\n    this.tilt = new p(), this.initGlare(), this.addEventListeners();\n    var e = new CustomEvent(\"autoreset\");\n    this.mainLoop(e);\n    var t = new CustomEvent(\"initial\");\n    this.emitOnMove(t);\n  }, i.prototype.componentWillUnmount = function () {\n    null !== this.wrapperEl.updateAnimationId && cancelAnimationFrame(this.wrapperEl.updateAnimationId), this.removeEventListeners();\n  }, i.prototype.componentDidUpdate = function () {\n    var e = new CustomEvent(\"propChanged\");\n    this.mainLoop(e);\n  }, i.prototype.addEventListeners = function () {\n    var e = this.props,\n        t = e.trackOnWindow,\n        n = e.gyroscope;\n    window.addEventListener(\"resize\", this.setSize), t && (window.addEventListener(\"mouseenter\", this.onEnter), window.addEventListener(\"mousemove\", this.onMove), window.addEventListener(\"mouseout\", this.onLeave), window.addEventListener(\"touchstart\", this.onEnter), window.addEventListener(\"touchmove\", this.onMove), window.addEventListener(\"touchend\", this.onLeave)), n && this.addDeviceOrientationEventListener();\n  }, i.prototype.removeEventListeners = function () {\n    var e = this.props,\n        t = e.trackOnWindow,\n        n = e.gyroscope;\n    window.removeEventListener(\"resize\", this.setSize), t && (window.removeEventListener(\"mouseenter\", this.onEnter), window.removeEventListener(\"mousemove\", this.onMove), window.removeEventListener(\"mouseout\", this.onLeave), window.removeEventListener(\"touchstart\", this.onEnter), window.removeEventListener(\"touchmove\", this.onMove), window.removeEventListener(\"touchend\", this.onLeave)), n && window.DeviceOrientationEvent && window.removeEventListener(\"deviceorientation\", this.onMove);\n  }, i.prototype.setWrapperElSize = function () {\n    var e = this.wrapperEl.node.getBoundingClientRect();\n    this.wrapperEl.size.width = this.wrapperEl.node.offsetWidth, this.wrapperEl.size.height = this.wrapperEl.node.offsetHeight, this.wrapperEl.size.left = e.left + window.scrollX, this.wrapperEl.size.top = e.top + window.scrollY;\n  }, i.prototype.initGlare = function () {\n    var e = this.props;\n    e.glareEnable && (this.glare = new s(this.wrapperEl.size, e.glareBorderRadius), this.wrapperEl.node.appendChild(this.glare.glareWrapperEl));\n  }, i.prototype.emitOnMove = function (e) {\n    var t = this.props.onMove;\n\n    if (t) {\n      var n = 0,\n          i = 0;\n      this.glare && (n = this.glare.glareAngle, i = this.glare.glareOpacity), t(this.tilt.tiltAngleX, this.tilt.tiltAngleY, this.tilt.tiltAngleXPercentage, this.tilt.tiltAngleYPercentage, n, i, e.type);\n    }\n  }, i.prototype.resetWrapperElTransform = function () {\n    this.wrapperEl.node.style.transform = \"\";\n  }, i.prototype.renderPerspective = function () {\n    this.wrapperEl.node.style.transform += \"perspective(\".concat(this.props.perspective, \"px) \");\n  }, i.prototype.renderScale = function () {\n    var e = this.wrapperEl.scale;\n    this.wrapperEl.node.style.transform += \"scale3d(\".concat(e, \",\").concat(e, \",\").concat(e, \")\");\n  }, i.prototype.setTransitions = function () {\n    var e = this.props,\n        t = e.transitionSpeed,\n        n = e.transitionEasing;\n    o(this.wrapperEl.node, \"all\", t, n), this.glare && o(this.glare.glareEl, \"opacity\", t, n);\n  }, i.prototype.render = function () {\n    var t = this,\n        n = this.props;\n    return e.createElement(\"div\", {\n      ref: function (e) {\n        return t.wrapperEl.node = e;\n      },\n      onMouseEnter: this.onEnter,\n      onMouseMove: this.onMove,\n      onMouseLeave: this.onLeave,\n      onTouchStart: this.onEnter,\n      onTouchMove: this.onMove,\n      onTouchEnd: this.onLeave,\n      className: n.className,\n      style: n.style\n    }, n.children);\n  }, i.defaultProps = c, i;\n}(t);\n\nexport { u as default };","map":{"version":3,"mappings":"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","names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__assign","assign","t","s","i","n","arguments","length","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","throw","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","return","Symbol","iterator","v","op","TypeError","pop","push","setTransition","element","property","duration","timing","style","transition","constrainToRange","rangeMin","rangeMax","Math","min","max","wrapperElSize","glareBorderRadius","h","wrapperElDiagonal","sqrt","width","height","glareSize","_this","calculateGlareSize","glareEl","wrapperElClientPosition","props","flipVertically","flipHorizontally","updateAngle","glareReverse","updateOpacity","rad2Deg","PI","glareAngle","xPercentage","atan2","glareOpacityFactor","yPercentage","glareMaxOpacity","flipVerticallyFactor","flipHorizontallyFactor","glareReverseFactor","hypot","glareOpacityFactorRemoveNegative","glareOpacity","transform","opacity","toString","background","glareColor","glareWrapperEl","document","createElement","appendChild","className","styleGlareWrapper","position","top","left","overflow","borderRadius","WebkitMaskImage","styleGlare","transformOrigin","pointerEvents","updateTilt","updateTiltManualInput","updateTiltReverse","updateTiltLimits","tiltMaxAngleY","tiltAngleX","tiltAngleY","tiltAngleYManual","tiltMaxAngleX","tiltAngleXManual","tiltReverse","tiltAxis","tiltAngleXPercentage","tiltAngleYPercentage","defaultProps","scale","perspective","reset","transitionEasing","transitionSpeed","trackOnWindow","gyroscope","tiltEnable","tiltAngleXInitial","tiltAngleYInitial","glareEnable","glarePosition","u","node","size","clientPosition","x","updateAnimationId","window","DeviceOrientationEvent","process","env","NODE_ENV","console","warn","requestPermission","_a","addEventListener","onMove","error","err_1","setWrapperElSize","glare","setSize","wrapperEl","event","cancelAnimationFrame","processInput","update","type","requestAnimationFrame","renderFrame","willChange","setTransitions","onEnter","mainLoop","emitOnMove","onLeave","autoResetEvent","CustomEvent","pageX","pageY","touches","processInputDeviceOrientation","gamma","beta","angleY","eventType","updateClientInput","tilt","updateFlip","updateTiltAnglesPercentage","xTemp","yTemp","innerHeight","innerWidth","_c","_d","resetWrapperElTransform","renderPerspective","render","renderScale","String","__","constructor","create","__extends","ReactParallaxTilt","Tilt","initGlare","addEventListeners","autoreset","initialEvent","removeEventListeners","addDeviceOrientationEventListener","removeEventListener","rect","getBoundingClientRect","offsetWidth","offsetHeight","scrollX","scrollY","Glare","React","ref","el","onMouseEnter","onMouseMove","onMouseLeave","onTouchStart","onTouchMove","onTouchEnd","PureComponent"],"sources":["/Users/ghost/Developer/react/ict-page/node_modules/react-parallax-tilt/node_modules/tslib/tslib.es6.js","/Users/ghost/Developer/react/ict-page/node_modules/react-parallax-tilt/src/common/utils.ts","/Users/ghost/Developer/react/ict-page/node_modules/react-parallax-tilt/src/features/glare/Glare.ts","/Users/ghost/Developer/react/ict-page/node_modules/react-parallax-tilt/src/features/tilt/Tilt.ts","/Users/ghost/Developer/react/ict-page/node_modules/react-parallax-tilt/src/react-parallax-tilt/defaultProps.ts","/Users/ghost/Developer/react/ict-page/node_modules/react-parallax-tilt/src/react-parallax-tilt/ReactParallaxTilt.tsx"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","export function setTransition<T extends HTMLElement>(\n  element: T,\n  property: 'all' | 'opacity',\n  duration: number,\n  timing: string,\n): void {\n  element.style.transition = `${property} ${duration}ms ${timing}`;\n}\n\nexport function constrainToRange(value: number, rangeMin: number, rangeMax: number): number {\n  return Math.min(Math.max(value, rangeMin), rangeMax);\n}\n","import { CSSProperties } from 'react';\n\nimport { ElementSizePosition, ClientPosition, IStyle } from '../../common/types';\nimport { constrainToRange } from '../../common/utils';\n\nimport { GlareProps, GlareSize } from './types';\n\nexport class Glare implements IStyle {\n  public glareWrapperEl: HTMLDivElement;\n  public glareEl: HTMLDivElement;\n\n  public glareAngle = 0;\n  public glareOpacity = 0;\n\n  constructor(wrapperElSize: ElementSizePosition, glareBorderRadius: string) {\n    this.glareWrapperEl = document.createElement('div');\n    this.glareEl = document.createElement('div');\n    this.glareWrapperEl.appendChild(this.glareEl);\n    this.glareWrapperEl.className = 'glare-wrapper';\n    this.glareEl.className = 'glare';\n\n    const styleGlareWrapper: CSSProperties = {\n      position: 'absolute',\n      top: '0',\n      left: '0',\n      width: '100%',\n      height: '100%',\n      overflow: 'hidden',\n      borderRadius: glareBorderRadius,\n      // Safari border-radius https://github.com/mkosir/react-parallax-tilt/issues/27#issuecomment-809884059\n      WebkitMaskImage: '-webkit-radial-gradient(white, black)',\n    };\n\n    const glareSize = this.calculateGlareSize(wrapperElSize);\n    const styleGlare: CSSProperties = {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transformOrigin: '0% 0%',\n      pointerEvents: 'none',\n      width: `${glareSize.width}px`,\n      height: `${glareSize.height}px`,\n    };\n\n    Object.assign(this.glareWrapperEl.style, styleGlareWrapper);\n    Object.assign(this.glareEl.style, styleGlare);\n  }\n\n  private calculateGlareSize = (wrapperElSize: ElementSizePosition): GlareSize => {\n    const { width: w, height: h } = wrapperElSize;\n    const wrapperElDiagonal = Math.sqrt(w! ** 2 + h! ** 2);\n    return {\n      width: wrapperElDiagonal,\n      height: wrapperElDiagonal,\n    };\n  };\n\n  public setSize = (wrapperElSize: ElementSizePosition): void => {\n    const glareSize = this.calculateGlareSize(wrapperElSize);\n    this.glareEl.style.width = `${glareSize.width}px`;\n    this.glareEl.style.height = `${glareSize.height}px`;\n  };\n\n  public update = (\n    wrapperElClientPosition: ClientPosition,\n    props: GlareProps,\n    flipVertically: boolean,\n    flipHorizontally: boolean,\n  ): void => {\n    this.updateAngle(wrapperElClientPosition, props.glareReverse!);\n    this.updateOpacity(wrapperElClientPosition, props, flipVertically, flipHorizontally);\n  };\n\n  private updateAngle = (wrapperElClientPosition: ClientPosition, glareReverse: boolean): void => {\n    const { xPercentage, yPercentage } = wrapperElClientPosition;\n\n    const rad2Deg = 180 / Math.PI;\n    // top 0, right +90, bottom -+180, left -90\n    const glareAngle = xPercentage ? Math.atan2(yPercentage, -xPercentage) * rad2Deg : 0;\n\n    const addGlareAngle = glareReverse ? 180 : 0;\n    this.glareAngle = glareAngle - addGlareAngle;\n  };\n\n  private updateOpacity = (\n    wrapperElClientPosition: ClientPosition,\n    props: GlareProps,\n    flipVertically: boolean,\n    flipHorizontally: boolean,\n  ): void => {\n    const { xPercentage, yPercentage } = wrapperElClientPosition;\n    const { glarePosition, glareReverse, glareMaxOpacity } = props;\n\n    const flipVerticallyFactor = flipVertically ? -1 : 1;\n    const flipHorizontallyFactor = flipHorizontally ? -1 : 1;\n    const glareReverseFactor = glareReverse ? -1 : 1;\n\n    let glareOpacityFactor: number;\n    switch (glarePosition) {\n      case 'top':\n        glareOpacityFactor = -xPercentage! * flipVerticallyFactor * glareReverseFactor;\n        break;\n      case 'right':\n        glareOpacityFactor = yPercentage! * flipHorizontallyFactor * glareReverseFactor;\n        break;\n      case 'bottom':\n        glareOpacityFactor = xPercentage! * flipVerticallyFactor * glareReverseFactor;\n        break;\n      case 'left':\n        glareOpacityFactor = -yPercentage! * flipHorizontallyFactor * glareReverseFactor;\n        break;\n      case 'all':\n        glareOpacityFactor = Math.hypot(xPercentage, yPercentage);\n        break;\n      default:\n        glareOpacityFactor = xPercentage! * flipVerticallyFactor * glareReverseFactor;\n    }\n\n    const glareOpacityFactorRemoveNegative = constrainToRange(glareOpacityFactor, 0, 100);\n    this.glareOpacity = (glareOpacityFactorRemoveNegative * glareMaxOpacity!) / 100;\n  };\n\n  public render = (props: GlareProps): void => {\n    const { glareColor } = props;\n    this.glareEl.style.transform = `rotate(${this.glareAngle}deg) translate(-50%, -50%)`;\n    this.glareEl.style.opacity = this.glareOpacity.toString();\n    this.glareEl.style.background = `linear-gradient(0deg, rgba(255,255,255,0) 0%, ${glareColor} 100%)`;\n  };\n}\n","import { ClientPosition, IStyle } from '../../common/types';\nimport { constrainToRange } from '../../common/utils';\n\nimport { TiltProps } from './types';\n\nconst TILT_ANGLE_CONSTRAINT = 90;\n\nexport class Tilt<T extends HTMLElement> implements IStyle {\n  public glareAngle = 0;\n  public glareOpacity = 0;\n\n  public tiltAngleX = 0;\n  public tiltAngleY = 0;\n  public tiltAngleXPercentage = 0;\n  public tiltAngleYPercentage = 0;\n\n  public update = (wrapperElClientPosition: ClientPosition, props: TiltProps): void => {\n    this.updateTilt(wrapperElClientPosition, props);\n    this.updateTiltManualInput(wrapperElClientPosition, props);\n    this.updateTiltReverse(props);\n    this.updateTiltLimits(props);\n  };\n\n  private updateTilt = (wrapperElClientPosition: ClientPosition, props: TiltProps): void => {\n    const { xPercentage, yPercentage } = wrapperElClientPosition;\n    const { tiltMaxAngleX, tiltMaxAngleY } = props;\n\n    const tiltTowardMouse = -1;\n    this.tiltAngleX = (xPercentage! * tiltMaxAngleX!) / 100;\n    this.tiltAngleY = ((yPercentage! * tiltMaxAngleY!) / 100) * tiltTowardMouse;\n  };\n\n  private updateTiltManualInput = (wrapperElClientPosition: ClientPosition, props: TiltProps): void => {\n    const { tiltAngleXManual, tiltAngleYManual, tiltMaxAngleX, tiltMaxAngleY } = props;\n\n    const isManualInputIgnoreOtherInputs = tiltAngleXManual !== null || tiltAngleYManual !== null;\n    if (isManualInputIgnoreOtherInputs) {\n      this.tiltAngleX = tiltAngleXManual !== null ? tiltAngleXManual! : 0;\n      this.tiltAngleY = tiltAngleYManual !== null ? tiltAngleYManual! : 0;\n      wrapperElClientPosition.xPercentage = (100 * this.tiltAngleX) / tiltMaxAngleX!;\n      wrapperElClientPosition.yPercentage = (100 * this.tiltAngleY) / tiltMaxAngleY!;\n    }\n  };\n\n  private updateTiltReverse = (props: TiltProps): void => {\n    const tiltReverse = props.tiltReverse ? -1 : 1;\n    this.tiltAngleX = tiltReverse * this.tiltAngleX;\n    this.tiltAngleY = tiltReverse * this.tiltAngleY;\n  };\n\n  private updateTiltLimits = (props: TiltProps): void => {\n    const { tiltAxis } = props;\n\n    this.tiltAngleX = constrainToRange(this.tiltAngleX, -TILT_ANGLE_CONSTRAINT, TILT_ANGLE_CONSTRAINT);\n    this.tiltAngleY = constrainToRange(this.tiltAngleY, -TILT_ANGLE_CONSTRAINT, TILT_ANGLE_CONSTRAINT);\n\n    const isOnlyOneAxisEnabledForTilting = tiltAxis;\n    if (isOnlyOneAxisEnabledForTilting) {\n      this.tiltAngleX = tiltAxis === 'x' ? this.tiltAngleX : 0;\n      this.tiltAngleY = tiltAxis === 'y' ? this.tiltAngleY : 0;\n    }\n  };\n\n  public updateTiltAnglesPercentage = (props: TiltProps): void => {\n    const { tiltMaxAngleX, tiltMaxAngleY } = props;\n\n    this.tiltAngleXPercentage = (this.tiltAngleX / tiltMaxAngleX!) * 100;\n    this.tiltAngleYPercentage = (this.tiltAngleY / tiltMaxAngleY!) * 100;\n  };\n\n  public render = (element: T): void => {\n    element.style.transform += `rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `;\n  };\n}\n","import { GlareProps } from '../features/glare/types';\nimport { TiltProps } from '../features/tilt/types';\n\nimport { Props } from './types';\n\nconst defaultGlareProps: GlareProps = {\n  glareEnable: false,\n  glareMaxOpacity: 0.7,\n  glareColor: '#ffffff',\n  glarePosition: 'bottom',\n  glareReverse: false,\n  glareBorderRadius: '0',\n};\n\nconst defaultTiltProps: TiltProps = {\n  tiltEnable: true,\n  tiltReverse: false,\n  tiltAngleXInitial: 0,\n  tiltAngleYInitial: 0,\n  tiltMaxAngleX: 20,\n  tiltMaxAngleY: 20,\n  tiltAxis: null,\n  tiltAngleXManual: null,\n  tiltAngleYManual: null,\n};\n\nexport const defaultProps: Props = {\n  scale: 1,\n  perspective: 1000,\n  flipVertically: false,\n  flipHorizontally: false,\n  reset: true,\n  transitionEasing: 'cubic-bezier(.03,.98,.52,.99)',\n  transitionSpeed: 400,\n  trackOnWindow: false,\n  gyroscope: false,\n  ...defaultTiltProps,\n  ...defaultGlareProps,\n};\n","import React, { PureComponent, MouseEvent, TouchEvent } from 'react';\n\nimport { setTransition, constrainToRange } from '../common/utils';\nimport { Glare } from '../features/glare/Glare';\nimport { Tilt } from '../features/tilt/Tilt';\n\nimport { defaultProps } from './defaultProps';\nimport { Props, SupportedEvent, EventType, CustomEventType, WrapperElement } from './types';\n\nclass ReactParallaxTilt extends PureComponent<Props> {\n  public static defaultProps = defaultProps;\n  private wrapperEl: WrapperElement<HTMLDivElement> = {\n    node: null,\n    size: {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0,\n    },\n    clientPosition: {\n      x: null,\n      y: null,\n      xPercentage: 0,\n      yPercentage: 0,\n    },\n    updateAnimationId: null,\n    scale: 1,\n  };\n  private tilt: Tilt<HTMLDivElement> | null = null;\n  private glare: Glare | null = null;\n\n  public componentDidMount() {\n    this.tilt = new Tilt<HTMLDivElement>();\n    this.initGlare();\n    this.addEventListeners();\n    const autoreset = new CustomEvent<CustomEventType>('autoreset' as CustomEventType);\n    this.mainLoop(autoreset);\n    const initialEvent = new CustomEvent<CustomEventType>('initial' as CustomEventType);\n    this.emitOnMove(initialEvent);\n  }\n\n  public componentWillUnmount() {\n    if (this.wrapperEl.updateAnimationId !== null) {\n      cancelAnimationFrame(this.wrapperEl.updateAnimationId);\n    }\n    this.removeEventListeners();\n  }\n\n  public componentDidUpdate() {\n    const eventType = new CustomEvent<CustomEventType>('propChanged' as CustomEventType);\n    this.mainLoop(eventType);\n  }\n\n  private addEventListeners() {\n    const { trackOnWindow, gyroscope } = this.props;\n\n    window.addEventListener('resize', this.setSize);\n\n    if (trackOnWindow) {\n      window.addEventListener('mouseenter', this.onEnter);\n      window.addEventListener('mousemove', this.onMove);\n      window.addEventListener('mouseout', this.onLeave);\n      window.addEventListener('touchstart', this.onEnter);\n      window.addEventListener('touchmove', this.onMove);\n      window.addEventListener('touchend', this.onLeave);\n    }\n\n    if (gyroscope) {\n      this.addDeviceOrientationEventListener();\n    }\n  }\n\n  /* istanbul ignore next */\n  private addDeviceOrientationEventListener = async () => {\n    if (!window.DeviceOrientationEvent && process.env.NODE_ENV === 'development') {\n      console.warn(\"Browser doesn't support Device Orientation.\");\n      return;\n    }\n\n    const iOS13OrHigherDevice = typeof (DeviceOrientationEvent as any).requestPermission === 'function';\n    if (iOS13OrHigherDevice) {\n      try {\n        const response = await (DeviceOrientationEvent as any).requestPermission();\n        if (response === 'granted') {\n          window.addEventListener('deviceorientation', this.onMove);\n        }\n        return;\n      } catch (err) {\n        console.error(err);\n        return;\n      }\n    }\n\n    window.addEventListener('deviceorientation', this.onMove);\n  };\n\n  private removeEventListeners() {\n    const { trackOnWindow, gyroscope } = this.props;\n\n    window.removeEventListener('resize', this.setSize);\n\n    if (trackOnWindow) {\n      window.removeEventListener('mouseenter', this.onEnter);\n      window.removeEventListener('mousemove', this.onMove);\n      window.removeEventListener('mouseout', this.onLeave);\n      window.removeEventListener('touchstart', this.onEnter);\n      window.removeEventListener('touchmove', this.onMove);\n      window.removeEventListener('touchend', this.onLeave);\n    }\n\n    // jest - instance of DeviceOrientationEvent not possible\n    /* istanbul ignore next */\n    if (gyroscope && window.DeviceOrientationEvent) {\n      window.removeEventListener('deviceorientation', this.onMove);\n    }\n  }\n\n  public setSize = () => {\n    this.setWrapperElSize();\n    if (this.glare) {\n      this.glare.setSize(this.wrapperEl.size);\n    }\n  };\n\n  private setWrapperElSize() {\n    const rect = this.wrapperEl.node!.getBoundingClientRect();\n    this.wrapperEl.size.width = this.wrapperEl.node!.offsetWidth;\n    this.wrapperEl.size.height = this.wrapperEl.node!.offsetHeight;\n    this.wrapperEl.size.left = rect.left + window.scrollX;\n    this.wrapperEl.size.top = rect.top + window.scrollY;\n  }\n\n  private initGlare() {\n    const { glareEnable, glareBorderRadius } = this.props;\n\n    if (!glareEnable) {\n      return;\n    }\n\n    this.glare = new Glare(this.wrapperEl.size, glareBorderRadius);\n    this.wrapperEl.node!.appendChild(this.glare.glareWrapperEl);\n  }\n\n  public mainLoop = (event: SupportedEvent) => {\n    if (this.wrapperEl.updateAnimationId !== null) {\n      cancelAnimationFrame(this.wrapperEl.updateAnimationId);\n    }\n    this.processInput(event);\n    this.update(event.type);\n    this.wrapperEl.updateAnimationId = requestAnimationFrame(this.renderFrame);\n  };\n\n  private onEnter = (event: SupportedEvent) => {\n    const { onEnter } = this.props;\n\n    // Update wrapped tilt component params in case\n    // - it's being manipulated (position, size, etc.) in consumed application\n    // - initial (delayed) images/children load\n    this.setSize();\n\n    // increase performance by notifying browser 'transform' property is just about to get changed\n    this.wrapperEl.node!.style.willChange = 'transform';\n    this.setTransitions();\n\n    if (onEnter) {\n      onEnter(event.type);\n    }\n  };\n\n  private onMove = (event: SupportedEvent): void => {\n    this.mainLoop(event);\n    this.emitOnMove(event);\n  };\n\n  private emitOnMove(event: SupportedEvent) {\n    const { onMove } = this.props;\n    if (!onMove) {\n      return;\n    }\n    let glareAngle = 0;\n    let glareOpacity = 0;\n    if (this.glare) {\n      glareAngle = this.glare.glareAngle;\n      glareOpacity = this.glare.glareOpacity;\n    }\n\n    onMove(\n      this.tilt!.tiltAngleX!,\n      this.tilt!.tiltAngleY!,\n      this.tilt!.tiltAngleXPercentage!,\n      this.tilt!.tiltAngleYPercentage!,\n      glareAngle,\n      glareOpacity,\n      event.type,\n    );\n  }\n\n  private onLeave = (event: SupportedEvent) => {\n    const { onLeave } = this.props;\n    this.setTransitions();\n\n    if (onLeave) {\n      onLeave(event.type);\n    }\n\n    if (this.props.reset) {\n      const autoResetEvent = new CustomEvent<CustomEventType>('autoreset' as CustomEventType);\n      this.onMove(autoResetEvent);\n    }\n  };\n\n  private processInput = (event: SupportedEvent): void => {\n    const { scale } = this.props;\n\n    switch (event.type as EventType) {\n      case 'mousemove':\n        this.wrapperEl.clientPosition.x = (event as MouseEvent).pageX;\n        this.wrapperEl.clientPosition.y = (event as MouseEvent).pageY;\n        this.wrapperEl.scale = scale!;\n        break;\n      case 'touchmove':\n        this.wrapperEl.clientPosition.x = (event as TouchEvent).touches[0].pageX;\n        this.wrapperEl.clientPosition.y = (event as TouchEvent).touches[0].pageY;\n        this.wrapperEl.scale = scale!;\n        break;\n      // jest - instance of DeviceOrientationEvent not possible\n      /* istanbul ignore next */\n      case 'deviceorientation':\n        this.processInputDeviceOrientation(event as DeviceOrientationEvent);\n        this.wrapperEl.scale = scale!;\n        break;\n      case 'autoreset':\n        const { tiltAngleXInitial, tiltAngleYInitial, tiltMaxAngleX, tiltMaxAngleY } = this.props;\n        const xPercentage = (tiltAngleXInitial! / tiltMaxAngleX!) * 100;\n        const yPercentage = (tiltAngleYInitial! / tiltMaxAngleY!) * 100;\n        this.wrapperEl.clientPosition.xPercentage = constrainToRange(xPercentage, -100, 100);\n        this.wrapperEl.clientPosition.yPercentage = constrainToRange(yPercentage, -100, 100);\n        this.wrapperEl.scale = 1;\n        break;\n    }\n  };\n\n  // jest - instance of DeviceOrientationEvent not possible\n  /* istanbul ignore next */\n  private processInputDeviceOrientation = (event: DeviceOrientationEvent): void => {\n    if (!event.gamma || !event.beta || !this.props.gyroscope) {\n      return;\n    }\n\n    const { tiltMaxAngleX, tiltMaxAngleY } = this.props;\n\n    const angleX = event.beta; // motion of the device around the x axis in degree in the range:[-180,180]\n    const angleY = event.gamma; // motion of the device around the y axis in degree in the range:[-90,90]\n\n    this.wrapperEl.clientPosition.xPercentage = (angleX! / tiltMaxAngleX!) * 100;\n    this.wrapperEl.clientPosition.yPercentage = (angleY! / tiltMaxAngleY!) * 100;\n\n    this.wrapperEl.clientPosition.xPercentage = constrainToRange(this.wrapperEl.clientPosition.xPercentage, -100, 100);\n    this.wrapperEl.clientPosition.yPercentage = constrainToRange(this.wrapperEl.clientPosition.yPercentage, -100, 100);\n  };\n\n  private update = (eventType: EventType | string): void => {\n    const { tiltEnable, flipVertically, flipHorizontally } = this.props;\n\n    const isAngleSetToDefaultAlready = eventType !== 'autoreset';\n    const isAngleRetrievedFromGyroscope = eventType !== 'deviceorientation';\n    const isPropChanged = eventType !== 'propChanged';\n    const isUpdateCalculationNeeded = isAngleSetToDefaultAlready && isAngleRetrievedFromGyroscope && isPropChanged;\n    if (isUpdateCalculationNeeded) {\n      this.updateClientInput();\n    }\n\n    if (tiltEnable) {\n      this.tilt!.update(this.wrapperEl.clientPosition, this.props);\n    }\n\n    this.updateFlip();\n\n    this.tilt!.updateTiltAnglesPercentage(this.props);\n\n    if (this.glare) {\n      this.glare.update(this.wrapperEl.clientPosition, this.props, flipVertically!, flipHorizontally!);\n    }\n  };\n\n  private updateClientInput = (): void => {\n    const { trackOnWindow } = this.props;\n\n    let xTemp;\n    let yTemp;\n    if (trackOnWindow) {\n      const { x, y } = this.wrapperEl.clientPosition;\n\n      xTemp = (y! / window.innerHeight) * 200 - 100;\n      yTemp = (x! / window.innerWidth) * 200 - 100;\n    } else {\n      const {\n        size: { width, height, left, top },\n        clientPosition: { x, y },\n      } = this.wrapperEl;\n\n      xTemp = ((y! - top!) / height!) * 200 - 100;\n      yTemp = ((x! - left!) / width!) * 200 - 100;\n    }\n\n    this.wrapperEl.clientPosition.xPercentage = constrainToRange(xTemp, -100, 100);\n    this.wrapperEl.clientPosition.yPercentage = constrainToRange(yTemp, -100, 100);\n  };\n\n  private updateFlip = (): void => {\n    const { flipVertically, flipHorizontally } = this.props;\n\n    if (flipVertically) {\n      this.tilt!.tiltAngleX += 180;\n      this.tilt!.tiltAngleY *= -1;\n    }\n    if (flipHorizontally) {\n      this.tilt!.tiltAngleY += 180;\n    }\n  };\n\n  public renderFrame = (): void => {\n    this.resetWrapperElTransform();\n\n    this.renderPerspective();\n    this.tilt!.render(this.wrapperEl.node!);\n    this.renderScale();\n    if (this.glare) {\n      this.glare.render(this.props);\n    }\n  };\n\n  private resetWrapperElTransform(): void {\n    this.wrapperEl.node!.style.transform = '';\n  }\n\n  private renderPerspective(): void {\n    const { perspective } = this.props;\n\n    this.wrapperEl.node!.style.transform += `perspective(${perspective}px) `;\n  }\n\n  private renderScale(): void {\n    const { scale } = this.wrapperEl;\n\n    this.wrapperEl.node!.style.transform += `scale3d(${scale},${scale},${scale})`;\n  }\n\n  private setTransitions() {\n    const { transitionSpeed, transitionEasing } = this.props;\n    setTransition<HTMLDivElement>(this.wrapperEl.node!, 'all', transitionSpeed!, transitionEasing!);\n\n    if (this.glare) {\n      setTransition<HTMLDivElement>(this.glare.glareEl, 'opacity', transitionSpeed!, transitionEasing!);\n    }\n  }\n\n  public render() {\n    const { children, className, style } = this.props;\n    return (\n      <div\n        ref={(el) => (this.wrapperEl.node = el)}\n        onMouseEnter={this.onEnter}\n        onMouseMove={this.onMove}\n        onMouseLeave={this.onLeave}\n        onTouchStart={this.onEnter}\n        onTouchMove={this.onMove}\n        onTouchEnd={this.onLeave}\n        className={className}\n        style={style}\n      >\n        {children}\n      </div>\n    );\n  }\n}\n\nexport default ReactParallaxTilt;\n"]},"metadata":{},"sourceType":"module"}